---
title: "Supermarket Sweep"
author: "Adam Profili, Brynn Schneberger"
date: "4/25/2021"
output: pdf_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

# a.

If two items are on the same x-aisle, the shortest distance from one to the other is the absolute value of the difference between their y-coordinates.
If two items are on different x-aisle, the shortest distance from one to the other is either by moving up to the end of the aisle, across to the other item's aisle, and then down to the item, or by moving down to the start of the aisle, across to the other item's aisle, and then up to the item. An algorithm should choose the shortest of these two options, which could be done by taking the minimum of the two or by finding if the two item's y-values on average are closer to the end (110 ft) or the beginning (0 ft).

We implemented this in a short nested loop in Python below:
```{r, eval=FALSE}
# initialize an empty two-dimensional list
d = [[0 for i in range(len(item_list))] for i in range(len(item_list))]
# iterate through all item objects twice for all pairings
for i in range(len(item_list)):
    for j in range(len(item_list)):
        item_i = item_list[i]
        item_j = item_list[j]

        # if item i and j share an aisle:
        if item_i.x == item_j.x:
            d[i][j] = abs(item_i.y - item_j.y) / 10
        # if they don't share an aisle:
        else:
            dist_x = abs(item_i.x - item_j.x)
            dist_y = min(((110 - item_i.y) + (110 - item_j.y) ), item_i.y + item_j.y)
            d[i][j] = (dist_x + dist_y) / 10
```
Then, since the end node we create later doesn't have an entry in the list of items, we duplicate the first row and column of the matrix to the last row and column since the end node is the same as the start node, which exists as the first item in the item list shown.
```{r, eval=FALSE}
d.append(d[0])
for i in range(len(d[0])):
    d[i].append(d[i][0])
```



# b.
Data Placeholders:
$x_{ij} = 1$ if item $j$ follows item $i$ in the chosen path, 0 otherwise.
$y_{j} = 1$ if item $j$ follows item $i$ in the chosen path, 0 otherwise.
$$
\begin{aligned}
&&\max_{x, y, t} \sum_{i=1}^nv_i\sum_{j=2}^{n+1}x_{ij} \\ \\
\textrm{s.t.}\ \ \ \ \ \ \ \ \ \ \ \ \ (1)&& y_1 &= 0 \\ \\
(2)&&x_{ii} &= 0 &\forall i = 1, 2, ..., n \\ \\
(3)&&\sum_{j=2}^{n+1}x_{1,j}&=1 \\ \\
(4)&&\sum_{j=1}^{n+1}x_{ij}&\le1 &\forall i=2, 3, ..., n \\ \\
(5)&&\sum_{i=1}^{n}x_{ij}&\le1 &\forall j=2, 3 ..., n\\ \\
(6)&&\sum_{i=1}^{n}x_{i,n+1}&=1 \\ \\
(7)&&t_{ij}&\le T x_{ij} &\forall i = 1, 2, ..., n \ \ \ \ \ \ &\forall j=2, 3, ..., n+1 \\ \\
(8)&&y_j &= \sum_{i=1}^n t_{ij} &\forall j=1, 2, ..., n+1 \\ \\
(9)&&\sum_{k=2}^{n+1} t_{jk} &= y_j + \sum_{k=2}^{n+1} d_{jk}x_{jk} &\forall j=2, 3, ..., n+1 \\ \\
(10)&&y_{n+1}&\le T \\ \\
(11)&&\sum_{i=1}^n\sum_{j=2}^{n+1}x_{ij} &\le C \\ \\
(12)&&x_{ij} &\in \{0,1\} &\forall i = 1, 2, ..., n \ \ \ \ \ \ &\forall j=2, 3, ..., n+1 \\ \\
(13)&&t_{ij} &\ge 0 &\forall i = 1, 2, ..., n \ \ \ \ \ \ &\forall j=2, 3, ..., n+1 \\ \\
(14)&&y_{j} &\ge 0 &\forall j = 1, 2, ..., n+1 \\ \\
\end{aligned}
$$